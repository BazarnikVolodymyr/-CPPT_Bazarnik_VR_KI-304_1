def lengthOfEachSubArray(size):
    """
    Створює головний масив (список), де кожен елемент є вкладеним списком.
    Довжина кожного вкладеного списку відповідає його індексу + 1.
    Це створює трикутну структуру.

    :param size: Розмір головного масиву (кількість рядків).
    :return: Масив (список) зі створеними вкладеними списками.
    """
    # Ініціалізація головного масиву 
    arr = [None] * size

    # Заповнення кожного елемента 
    for i in range(size):
        # Довжина вкладеного списку дорівнює i + 1 (для i=0, довжина=1; для i=size-1, довжина=size)
        length = i + 1
        # Створення вкладеного списку з порожніх рядків довжиною 'length'
        arr[i] = [""] * length

    return arr

def printMatrix(arr, symbol, size, file):
    """
    Заповнює елементи матриці заданим символом, виводить її на консоль
    і одночасно записує у файл.

    :param arr: Матриця (список списків) для заповнення та виведення.
    :param symbol: Символ, яким потрібно заповнити матрицю.
    :param size: Кількість рядків у матриці.
    :param file: Ім'я файлу для запису результату.
    """
    print("Matrix result")

    with open(file, "w", encoding="utf-8") as writer:
        # Зовнішній цикл: ітерація по рядках (i)
        for i in range(size):
            # Внутрішній цикл: ітерація по стовпцях (j)
            # У трикутній матриці кількість стовпців дорівнює індексу рядка + 1
            for j in range(i + 1):
                # 1. Заповнення елемента матриці заданим символом
                arr[i][j] = symbol

                # 2. Запис символу у файл, додаючи пробіл після нього
                writer.write(arr[i][j] + " ")
                # 3. Виведення символу на консоль, залишаючи курсор на тому ж рядку
                print(arr[i][j], end=" ")
            
            
            print()
            # Перехід на новий рядок у файлі
            writer.write("\n")
        
        # Примусове записування буфера у файл (гарантує, що дані збережені)
        writer.flush()

if __name__ == '__main__':
    # Блок коду, який виконується лише при прямому запуску цього файлу

    # Запит у користувача розміру матриці
    size = int(input("Enter the size of the matrix: "))
    # Запит символу для заповнення
    symbol = input("Enter the fill symbol: ")

    # Перевірка, чи символ заповнення складається лише з одного символу
    if len(symbol) != 1:
        print("Please enter a valid fill symbol")
    else:
        # Створення трикутної структури масиву
        arr = lengthOfEachSubArray(size)
        
        # Визначення імені вихідного файлу
        file_name = "matrix_output.txt"
        
        # Заповнення, виведення та запис матриці у файл
        printMatrix(arr, symbol, size, file_name)